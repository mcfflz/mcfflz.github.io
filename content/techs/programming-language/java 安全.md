# 散列函数

也叫杂凑函数、摘要函数或者哈希函数，主要包括：

* MD5
* SHA-1
* SHA-256
* SHA-512

## MD5 算法

将任意长度的原文生成 128 位（16字节）的哈希值

## SHA-1 算法

将任意长度的原文生成 160 位（20字节）的哈希值



# 对称加密

symmetric

主要有 DES 算法和 AES 算法。

对称加密使用相同的密钥进行加密和解密。

对称加密的密码分为：序列密码（流加密，stream ciphers）、分组密码（块加密，block ciphers）。

* 流加密：对信息流中的每一个元素（一个字母或比特）作为基本处理单元进行加密；
* 块加密：先信息流分块，然后对每一块儿分别进行加密处理。

加密模式：ECB、CBC。

填充模式：NoPadding 和 PKCS5Padding

特点：

* 加密速度快，可以加密大文件；
* 密文可逆，一旦密钥文件泄露，就会导致数据暴露；
* 加密后编码表找不到对应字符，会出现乱码；
* 一般结合 Base64 使用。

## DES 算法

DES，Data Encryption Standard，数据加密标准，是一种使用密钥加密的块算法。

1977 年被美国联邦政府的国家标准局确定位联邦资料处理标准（FIPS），并授权在非密级政府通信中使用，随后在国际上广泛流传开来。

```java
```

## AES 算法

AES，Advanced Encryption Standard，高级加密标准，在密码学中又称为 Rijndael 算法。

是美国联邦政府采用的一种区块加密标准。这个标准用来替代原先的 DES，已经被多方分析且广为全世界所用。



# 非对称加密

asymmetric

主要有 RSA 算法和 ECC 算法。

数字摘要：Base64 核心加密原则

非对称加密有其数学原理，// 待补充，其基本的实现效果为 N = p * q。

其中，p 和 q 被称为一对密钥：

* 公开的密钥叫做公钥，非公开的密钥叫做私钥；
* 数据使用其中一个密钥加密后，只可能通过另一个密钥进行解密，即：公钥加密，私钥解密；私钥加密，公钥解密；

非对称加密有两个用法：

* 加密
* 签名

## 加密

传输数据时，互相交换公钥，使用对方的公钥加密传输数据，对方使用自身的私钥进行解密。

```sequence
participant a
participant b
a->b: 传递 a 的公钥
b->a: 传递 b 的公钥
a->b: 使用 b 的公钥加密数据
b->b: 使用 b 的私钥解密数据
b->a: 使用 a 的公钥加密数据
a->a: 使用 a 的私钥解密数据
```

## 签名

由于公钥的公开性，导致存在数据被篡改的可能性。

为了防止数据被篡改，需要在发送数据时，通过自身的私钥对数据的 hash 值进行签名（加密），由对方通过公钥解密后对比数据的 hash 值判断数据是否被篡改。

利用的是 hash 计算的不可逆性质（相对现有世界里的计算资源而言，不是绝对）。

```sequence
participant a
participant b
a->b: 传递 a 的公钥
b->a: 传递 b 的公钥
a->a: 使用 a 的私钥签名
a->b: 使用 b 的公钥加密数据
b->b: 使用 b 的私钥解密数据
b->b: 使用 a 的公钥解密签名
```

# HTTPS

https://www.bilibili.com/video/BV1Sg411A79a

在交换公钥的过程中，存在公钥被篡改的可能性，即中间人攻击。

为了避免在公钥被篡改，因此设置了中央认证机构（CA），作为根认证；根认证机构可以向下级机构提供认证，作为认证机构的信任链。

认证机构同样有公钥和私钥，其公钥一般在操作系统层面预制到各主机，以此来保证 CA 机构公钥传输的安全性。

在 web 通信中，服务器需要的 SSL/TLS 实际上是认证机构加密的证书，认证机构通过私钥将服务器公钥及其域名加密，生成服务器证书。交换公钥的过程中，客户端首先需要通过认证机构的公钥解密服务器证书，验证服务器公钥的准确性，这样就解决了公钥被篡改的问题。

但是，由于非对称加密的耗时太久，因此 HTTPS 使用了新的加密方式：对称加密密钥（会话密钥）。

在确认服务器公钥的真实性后（同时确认了连接的准确性），客户端会生成对称加密密钥，使用服务器公钥加密后传输给服务端，服务端同步响应客户端的密钥传输请求。

此后，客户端和服务端便使用对称加密算法的密钥进行通信。

```sequence
participant a
participant b
participant c
c-->a: CA公钥
c-->b: 私钥加密 b 公钥及域名，\n生成服务器证书
a->b: 请求服务器证书
b->a: 返回
a->a: 使用CA公钥解密并验证服务器公钥摘要
a->a: 生成会话密钥
a->b: 使用 b 公钥加密会话密钥
b->b: 使用 b 私钥解密
b->a: 密钥接收成功
a->b: 发送会话密钥加密的请求报文
b->b: 会话密钥解密，处理
b->a: 发送会话密钥加密的响应报文
a->a: 会话密钥解密，处理
a->b: ...
b->a: ...
```

这个过程中牵涉到几个计算：

* CA 对服务器公钥进行哈希算法，得到摘要
* CA 使用私钥对摘要进行加密（签名），得到指纹
* 客户端使用服务器公钥进行加密算法，得到摘要
* 客户端对指纹使用公钥解密，得到摘要
* 客户端对比摘要（验签），可以判断公钥是否可信、服务端是否可信



深入浅出 HTTPS：

https://www.cnblogs.com/huansky/p/13977181.html



# java 安全标准算法名称

Java Security Standard Algorithm Names：

https://docs.oracle.com/en/java/javase/17/docs/specs/security/standard-names.html#





