---
date: 2026-02-12T12:00:00+08:00
title: Storage
draft: false
# bookFlatSection: false        # 是否显示扁平章节（默认false）
# bookToc: true                 # 是否显示目录（默认true）
# bookHidden: false             # 是否在侧边栏列表中隐藏（默认false）
# bookCollapseSection: false    # 章节是否默认折叠（默认false）
# bookComments: false           # 是否启用评论（默认false）
# bookSearchExclude: false      # 是否从搜索结果中排除（默认false）
# params:                       # 自定义参数
#   maths: true                 # 数学公式支持
# weight: 1                     # 内容权重（排序用）
---

参考资料：https://space.bilibili.com/2052916308/video

# 存储

## 概念与分类

此处所说的存储，是指独立于服务器的外部存储系统，包括硬件组成和存储系统软件。存储的物理介质包括但不限于 SSD、HDD、磁盘等。

存储系统的设计目标，是提供效率高、容量大、稳定性强（数据冗余）的存储。也会根据具体的场景做更细致的划分。

存储系统划分包括两种维度：

从存储方式来看，可以分为：

* 块存储
* 文件存储
* 对象存储

从存储位置来看，可以分为：

* 集中式存储
* 分布式存储

## 块存储

将物理存储设备（SSD 或 HDD）提供的不连续的物理空间，通过存储控制软件，映射为连续的逻辑空间。并按照使用要求划分裸空间提供给主机使用。

块存储的特性包括：高性能、低延时、随机读写性能强，是提供给专业应用场景下的存储方式。

块存储的部署主要有以下几种：

* 直连存储 （DAS, Direct-Attached Storage），通过 SCSI 协议，可扩展性弱；
* 存储空间网络（SAN, Storage Area Network），使用 FC 交换机、HBA 卡等通信，通过 SCSI 协议读取，可扩展性强；
* 基于以太网的 SAN 存储（IP SAN），相对 FC 交换机等硬件读取，造价低，但效率也低；

具有 read、write 等基础语义。

块存储可以挂载主机的文件系统，也可以不挂载，直接使用裸空间。

数据结构类似于数组。

## 文件存储

在块存储的基础上，提供远端文件系统（相对于本地文件系统）。

文件存储的特性包括：高并发、文件共享，是提供给通用场景下的存储方式。

文件存储的部署主要有以下几种：

* 网络空间存储（NAS, Network Area Storage），使用以太网，通过 NFS、CIFS 协议读取，或者使用 IB 网络，可扩展性强；

具有 read、write、lookup、access、seek 等十多种语义。

文件存储由于增加了远端文件系统，延时相对块存储要高。

数据结构类似于二叉树。

## 对象存储

对象存储的底层可以是文件系统，也可以是块存储，或者是混合结构。

对象存储的特性包括：超高并发、海量，是提供给公有云、大数据、网盘、媒体、娱乐、医疗影像 PACS、冷数据归档等场景下的存储方式。

对象存储的部署方式可以是块存储或文件存储的任意一种，一般使用以太网，通过 http 协议访问。

具有 put、get、delete 等少量语义，随机读写能力弱。

对象存储增加了对象存储系统，延时相对块存储、文件存储要高。

数据结构类似于哈希表。


## 存储位置

### 集中式存储

一般是指存储机柜，在机柜中插满存储介质，单个机柜对外提供集中式的存储。

缺陷是当单机的存储容量满时，扩展的机柜之间缺少数据交互，形成物理意义上的数据孤岛。

### 分布式存储

通过分布式存储软件，可以在扩展机柜时继续提供统一的存储服务，但为了确保分布式数据存储的一致性问题，也会带来额外的开销，因此不是无限扩展的。

分布式存储相对于集中式存储而言，资源共享更高，但相应的运行效率也会下降。

分布式存储一般应用于文件存储和对象存储。分布式块存储比较少，原因是会损失块存储最大的优势。
